<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <!-- Popup template only - button is injected via JS -->
    <t t-name="pos_temp_products.TempProductPopup">
        <div class="modal-body">
            <div class="o_temp_popup">
                <table class="o_temp_table table">
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th style="width:100px">Cantidad</th>
                            <th style="width:120px">Precio</th>
                            <th style="width:40px"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="state.rows" t-as="row" t-key="row_index">
                            <tr>
                                <td>
                                    <input type="text" t-att-value="row.name" t-on-input="(ev)=>onInput(row_index,'name',ev)" t-on-keydown.enter="()=>onEnter(row_index)" placeholder="Nombre del producto" class="form-control"/>
                                </td>
                                <td>
                                    <input type="number" step="0.01" min="0.01" t-att-value="row.qty" t-on-input="(ev)=>onInput(row_index,'qty',ev)" t-on-keydown.enter="()=>onEnter(row_index)" class="form-control"/>
                                </td>
                                <td>
                                    <input type="number" step="0.01" min="0" t-att-value="row.price" t-on-input="(ev)=>onInput(row_index,'price',ev)" t-on-keydown.enter="()=>onEnter(row_index)" class="form-control"/>
                                </td>
                                <td>
                                    <button class="btn btn-link text-danger" t-on-click="() => removeRow(row_index)"><i class="fa fa-trash"/></button>
                                </td>
                            </tr>
                        </t>
                    </tbody>
                </table>
                <div class="mt-2">
                    <button class="btn btn-secondary" t-on-click="addRow"><i class="fa fa-plus"/> Agregar fila</button>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" t-on-click="cancel">Cancelar</button>
            <button class="btn btn-primary" t-on-click="confirm">Guardar</button>
        </div>
    </t>

    <t t-name="pos_temp_products.NavbarTempProductButton" t-inherit="point_of_sale.Navbar" t-inherit-mode="extension">
        <xpath expr="//Input[@t-if=&quot;pos.showSearchButton()&quot;]" position="before">
            <button class="btn btn-light btn-lg lh-lg temp-product-btn d-flex align-items-center gap-2"
                    t-if="showTempProductButton"
                    t-on-click="onClickTempProductButton"
                    t-att-title="_t('Agregar producto temporal')">
                <i class="fa fa-fw fa-lg fa-plus"/>
                <span class="d-none d-xl-inline" t-esc="_t('+ Producto temporal')"/>
            </button>
        </xpath>
    </t>
</templates>
